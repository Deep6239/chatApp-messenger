"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/message/send/route";
exports.ids = ["app/api/message/send/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmessage%2Fsend%2Froute&page=%2Fapi%2Fmessage%2Fsend%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessage%2Fsend%2Froute.ts&appDir=E%3A%5Cmessenger%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cmessenger&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmessage%2Fsend%2Froute&page=%2Fapi%2Fmessage%2Fsend%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessage%2Fsend%2Froute.ts&appDir=E%3A%5Cmessenger%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cmessenger&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_messenger_src_app_api_message_send_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/message/send/route.ts */ \"(rsc)/./src/app/api/message/send/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/message/send/route\",\n        pathname: \"/api/message/send\",\n        filename: \"route\",\n        bundlePath: \"app/api/message/send/route\"\n    },\n    resolvedPagePath: \"E:\\\\messenger\\\\src\\\\app\\\\api\\\\message\\\\send\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_messenger_src_app_api_message_send_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/message/send/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtZXNzYWdlJTJGc2VuZCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGbWVzc2FnZSUyRnNlbmQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZtZXNzYWdlJTJGc2VuZCUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDbWVzc2VuZ2VyJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1FJTNBJTVDbWVzc2VuZ2VyJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0s7QUFDbEY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXNzYW5nZXIvP2Y2MTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcbWVzc2VuZ2VyXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXG1lc3NhZ2VcXFxcc2VuZFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWVzc2FnZS9zZW5kL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWVzc2FnZS9zZW5kXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9tZXNzYWdlL3NlbmQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJFOlxcXFxtZXNzZW5nZXJcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcbWVzc2FnZVxcXFxzZW5kXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL21lc3NhZ2Uvc2VuZC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmessage%2Fsend%2Froute&page=%2Fapi%2Fmessage%2Fsend%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessage%2Fsend%2Froute.ts&appDir=E%3A%5Cmessenger%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cmessenger&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/message/send/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/message/send/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _helpers_redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/helpers/redis */ \"(rsc)/./src/helpers/redis.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var _lib_pusher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/pusher */ \"(rsc)/./src/lib/pusher.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/lib/utils.ts\");\n/* harmony import */ var _lib_validations_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/validations/message */ \"(rsc)/./src/lib/validations/message.tsx\");\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! nanoid */ \"(rsc)/./node_modules/nanoid/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\n\nasync function POST(req) {\n    try {\n        const { text, chatId } = await req.json();\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_6__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_1__.authOptions);\n        if (!session) return new Response(\"Unauthorized\", {\n            status: 401\n        });\n        const [userId1, userId2] = chatId.split(\"--\");\n        if (session.user.id !== userId1 && session.user.id !== userId2) {\n            return new Response(\"Unauthorized\", {\n                status: 401\n            });\n        }\n        const friendId = session.user.id === userId1 ? userId2 : userId1;\n        const friendList = await (0,_helpers_redis__WEBPACK_IMPORTED_MODULE_0__.fetchRedis)(\"smembers\", `user:${session.user.id}:friends`);\n        const isFriend = friendList.includes(friendId);\n        if (!isFriend) {\n            return new Response(\"Unauthorized\", {\n                status: 401\n            });\n        }\n        const rawSender = await (0,_helpers_redis__WEBPACK_IMPORTED_MODULE_0__.fetchRedis)(\"get\", `user:${session.user.id}`);\n        const sender = JSON.parse(rawSender);\n        const timestamp = Date.now();\n        const messageData = {\n            id: (0,nanoid__WEBPACK_IMPORTED_MODULE_7__.nanoid)(),\n            senderId: session.user.id,\n            text,\n            timestamp\n        };\n        const message = _lib_validations_message__WEBPACK_IMPORTED_MODULE_5__.messageValidator.parse(messageData);\n        _lib_pusher__WEBPACK_IMPORTED_MODULE_3__.pusherServer.trigger((0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.toPusherKey)(`chat:${chatId}`), \"incoming-message\", message);\n        _lib_pusher__WEBPACK_IMPORTED_MODULE_3__.pusherServer.trigger((0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.toPusherKey)(`user:${friendId}:chats`), \"new_message\", {\n            ...message,\n            senderImg: sender.image,\n            senderName: sender.name\n        });\n        // all valid, send the message\n        await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.zadd(`chat:${chatId}:messages`, {\n            score: timestamp,\n            member: JSON.stringify(message)\n        });\n        return new Response(\"OK\");\n    } catch (error) {\n        if (error instanceof Error) {\n            return new Response(error.message, {\n                status: 500\n            });\n        }\n        return new Response(\"Internal Server Error\", {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9tZXNzYWdlL3NlbmQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE0QztBQUNKO0FBQ1g7QUFDYztBQUNGO0FBQzRCO0FBQ3RDO0FBQ2E7QUFFckMsZUFBZVEsS0FBS0MsR0FBWTtJQUNuQyxJQUFJO1FBQ0EsTUFBTSxFQUFDQyxJQUFJLEVBQUVDLE1BQU0sRUFBQyxHQUFtQyxNQUFNRixJQUFJRyxJQUFJO1FBQ3JFLE1BQU1DLFVBQVUsTUFBTU4sMkRBQWdCQSxDQUFDTixrREFBV0E7UUFFbEQsSUFBRyxDQUFDWSxTQUFTLE9BQU8sSUFBSUMsU0FBUyxnQkFBZ0I7WUFBRUMsUUFBUTtRQUFHO1FBRTlELE1BQU0sQ0FBQ0MsU0FBU0MsUUFBUSxHQUFHTixPQUFPTyxLQUFLLENBQUM7UUFFeEMsSUFBR0wsUUFBUU0sSUFBSSxDQUFDQyxFQUFFLEtBQUtKLFdBQVdILFFBQVFNLElBQUksQ0FBQ0MsRUFBRSxLQUFLSCxTQUFRO1lBQzFELE9BQU8sSUFBSUgsU0FBUyxnQkFBZ0I7Z0JBQUVDLFFBQVE7WUFBRztRQUNyRDtRQUVBLE1BQU1NLFdBQVdSLFFBQVFNLElBQUksQ0FBQ0MsRUFBRSxLQUFLSixVQUFVQyxVQUFVRDtRQUV6RCxNQUFNTSxhQUFjLE1BQU10QiwwREFBVUEsQ0FDaEMsWUFDQSxDQUFDLEtBQUssRUFBRWEsUUFBUU0sSUFBSSxDQUFDQyxFQUFFLENBQUMsUUFBUSxDQUFDO1FBRXJDLE1BQU1HLFdBQVdELFdBQVdFLFFBQVEsQ0FBQ0g7UUFFckMsSUFBRyxDQUFDRSxVQUFTO1lBQ1QsT0FBTyxJQUFJVCxTQUFTLGdCQUFnQjtnQkFBQ0MsUUFBUTtZQUFHO1FBQ3BEO1FBRUEsTUFBTVUsWUFBYSxNQUFNekIsMERBQVVBLENBQy9CLE9BQ0EsQ0FBQyxLQUFLLEVBQUVhLFFBQVFNLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7UUFDN0IsTUFBTU0sU0FBU0MsS0FBS0MsS0FBSyxDQUFDSDtRQUUxQixNQUFNSSxZQUFZQyxLQUFLQyxHQUFHO1FBRTFCLE1BQU1DLGNBQXVCO1lBQ3pCWixJQUFJZCw4Q0FBTUE7WUFDVjJCLFVBQVVwQixRQUFRTSxJQUFJLENBQUNDLEVBQUU7WUFDekJWO1lBQ0FtQjtRQUNKO1FBRUEsTUFBTUssVUFBVTdCLHNFQUFnQkEsQ0FBQ3VCLEtBQUssQ0FBQ0k7UUFFdkM3QixxREFBWUEsQ0FBQ2dDLE9BQU8sQ0FBQy9CLHVEQUFXQSxDQUFDLENBQUMsS0FBSyxFQUFFTyxPQUFPLENBQUMsR0FBRyxvQkFBb0J1QjtRQUV4RS9CLHFEQUFZQSxDQUFDZ0MsT0FBTyxDQUFDL0IsdURBQVdBLENBQUMsQ0FBQyxLQUFLLEVBQUVpQixTQUFTLE1BQU0sQ0FBQyxHQUFHLGVBQWU7WUFBQyxHQUFHYSxPQUFPO1lBQUVFLFdBQVdWLE9BQU9XLEtBQUs7WUFBRUMsWUFBWVosT0FBT2EsSUFBSTtRQUFBO1FBRXhJLDhCQUE4QjtRQUM5QixNQUFNckMsdUNBQUVBLENBQUNzQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUU3QixPQUFPLFNBQVMsQ0FBQyxFQUFFO1lBQ3JDOEIsT0FBT1o7WUFDUGEsUUFBUWYsS0FBS2dCLFNBQVMsQ0FBQ1Q7UUFDM0I7UUFFQSxPQUFPLElBQUlwQixTQUFTO0lBQ3hCLEVBQUUsT0FBTzhCLE9BQU87UUFDWixJQUFHQSxpQkFBaUJDLE9BQU07WUFDdEIsT0FBTyxJQUFJL0IsU0FBUzhCLE1BQU1WLE9BQU8sRUFBRTtnQkFBRW5CLFFBQVE7WUFBRztRQUNwRDtRQUVBLE9BQU8sSUFBSUQsU0FBUyx5QkFBeUI7WUFBRUMsUUFBUTtRQUFHO0lBQzlEO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXNzYW5nZXIvLi9zcmMvYXBwL2FwaS9tZXNzYWdlL3NlbmQvcm91dGUudHM/NDA0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmZXRjaFJlZGlzIH0gZnJvbSBcIkAvaGVscGVycy9yZWRpc1wiXHJcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSBcIkAvbGliL2F1dGhcIlxyXG5pbXBvcnQgeyBkYiB9IGZyb20gXCJAL2xpYi9kYlwiXHJcbmltcG9ydCB7IHB1c2hlclNlcnZlciB9IGZyb20gXCJAL2xpYi9wdXNoZXJcIlxyXG5pbXBvcnQgeyB0b1B1c2hlcktleSB9IGZyb20gXCJAL2xpYi91dGlsc1wiXHJcbmltcG9ydCB7IE1lc3NhZ2UsIG1lc3NhZ2VWYWxpZGF0b3IgfSBmcm9tIFwiQC9saWIvdmFsaWRhdGlvbnMvbWVzc2FnZVwiXHJcbmltcG9ydCB7IG5hbm9pZCB9IGZyb20gXCJuYW5vaWRcIlxyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSBcIm5leHQtYXV0aFwiXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3Qge3RleHQsIGNoYXRJZH06IHt0ZXh0OiBzdHJpbmcsIGNoYXRJZDogc3RyaW5nfSA9IGF3YWl0IHJlcS5qc29uKClcclxuICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcclxuXHJcbiAgICAgICAgaWYoIXNlc3Npb24pIHJldHVybiBuZXcgUmVzcG9uc2UoJ1VuYXV0aG9yaXplZCcsIHsgc3RhdHVzOiA0MDF9KVxyXG5cclxuICAgICAgICBjb25zdCBbdXNlcklkMSwgdXNlcklkMl0gPSBjaGF0SWQuc3BsaXQoJy0tJylcclxuXHJcbiAgICAgICAgaWYoc2Vzc2lvbi51c2VyLmlkICE9PSB1c2VySWQxICYmIHNlc3Npb24udXNlci5pZCAhPT0gdXNlcklkMil7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoJ1VuYXV0aG9yaXplZCcsIHsgc3RhdHVzOiA0MDF9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZnJpZW5kSWQgPSBzZXNzaW9uLnVzZXIuaWQgPT09IHVzZXJJZDEgPyB1c2VySWQyIDogdXNlcklkMVxyXG5cclxuICAgICAgICBjb25zdCBmcmllbmRMaXN0ID0gKGF3YWl0IGZldGNoUmVkaXMoXHJcbiAgICAgICAgICAgICdzbWVtYmVycycsIFxyXG4gICAgICAgICAgICBgdXNlcjoke3Nlc3Npb24udXNlci5pZH06ZnJpZW5kc2ApKSBhcyBzdHJpbmdbXVxyXG5cclxuICAgICAgICBjb25zdCBpc0ZyaWVuZCA9IGZyaWVuZExpc3QuaW5jbHVkZXMoZnJpZW5kSWQpXHJcblxyXG4gICAgICAgIGlmKCFpc0ZyaWVuZCl7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoJ1VuYXV0aG9yaXplZCcsIHtzdGF0dXM6IDQwMX0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByYXdTZW5kZXIgPSAoYXdhaXQgZmV0Y2hSZWRpcyhcclxuICAgICAgICAgICAgJ2dldCcsIFxyXG4gICAgICAgICAgICBgdXNlcjoke3Nlc3Npb24udXNlci5pZH1gKSkgYXMgc3RyaW5nXHJcbiAgICAgICAgY29uc3Qgc2VuZGVyID0gSlNPTi5wYXJzZShyYXdTZW5kZXIpIGFzIFVzZXJcclxuXHJcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKVxyXG5cclxuICAgICAgICBjb25zdCBtZXNzYWdlRGF0YTogTWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgaWQ6IG5hbm9pZCgpLFxyXG4gICAgICAgICAgICBzZW5kZXJJZDogc2Vzc2lvbi51c2VyLmlkLFxyXG4gICAgICAgICAgICB0ZXh0LFxyXG4gICAgICAgICAgICB0aW1lc3RhbXAsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZVZhbGlkYXRvci5wYXJzZShtZXNzYWdlRGF0YSlcclxuXHJcbiAgICAgICAgcHVzaGVyU2VydmVyLnRyaWdnZXIodG9QdXNoZXJLZXkoYGNoYXQ6JHtjaGF0SWR9YCksICdpbmNvbWluZy1tZXNzYWdlJywgbWVzc2FnZSlcclxuXHJcbiAgICAgICAgcHVzaGVyU2VydmVyLnRyaWdnZXIodG9QdXNoZXJLZXkoYHVzZXI6JHtmcmllbmRJZH06Y2hhdHNgKSwgJ25ld19tZXNzYWdlJywgey4uLm1lc3NhZ2UsIHNlbmRlckltZzogc2VuZGVyLmltYWdlLCBzZW5kZXJOYW1lOiBzZW5kZXIubmFtZX0pXHJcblxyXG4gICAgICAgIC8vIGFsbCB2YWxpZCwgc2VuZCB0aGUgbWVzc2FnZVxyXG4gICAgICAgIGF3YWl0IGRiLnphZGQoYGNoYXQ6JHtjaGF0SWR9Om1lc3NhZ2VzYCwge1xyXG4gICAgICAgICAgICBzY29yZTogdGltZXN0YW1wLFxyXG4gICAgICAgICAgICBtZW1iZXI6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZSgnT0snKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBpZihlcnJvciBpbnN0YW5jZW9mIEVycm9yKXtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShlcnJvci5tZXNzYWdlLCB7IHN0YXR1czogNTAwfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoJ0ludGVybmFsIFNlcnZlciBFcnJvcicsIHsgc3RhdHVzOiA1MDB9KVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbImZldGNoUmVkaXMiLCJhdXRoT3B0aW9ucyIsImRiIiwicHVzaGVyU2VydmVyIiwidG9QdXNoZXJLZXkiLCJtZXNzYWdlVmFsaWRhdG9yIiwibmFub2lkIiwiZ2V0U2VydmVyU2Vzc2lvbiIsIlBPU1QiLCJyZXEiLCJ0ZXh0IiwiY2hhdElkIiwianNvbiIsInNlc3Npb24iLCJSZXNwb25zZSIsInN0YXR1cyIsInVzZXJJZDEiLCJ1c2VySWQyIiwic3BsaXQiLCJ1c2VyIiwiaWQiLCJmcmllbmRJZCIsImZyaWVuZExpc3QiLCJpc0ZyaWVuZCIsImluY2x1ZGVzIiwicmF3U2VuZGVyIiwic2VuZGVyIiwiSlNPTiIsInBhcnNlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIm1lc3NhZ2VEYXRhIiwic2VuZGVySWQiLCJtZXNzYWdlIiwidHJpZ2dlciIsInNlbmRlckltZyIsImltYWdlIiwic2VuZGVyTmFtZSIsIm5hbWUiLCJ6YWRkIiwic2NvcmUiLCJtZW1iZXIiLCJzdHJpbmdpZnkiLCJlcnJvciIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/message/send/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/helpers/redis.ts":
/*!******************************!*\
  !*** ./src/helpers/redis.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchRedis: () => (/* binding */ fetchRedis)\n/* harmony export */ });\nconst upstashRedisRestUrl = process.env.UPSTASH_REDIS_REST_URL;\nconst authToken = process.env.UPSTASH_REDIS_REST_TOKEN;\nasync function fetchRedis(command, ...args) {\n    const commandUrl = `${upstashRedisRestUrl}/${command}/${args.join(\"/\")}`;\n    const response = await fetch(commandUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`\n        },\n        cache: \"no-store\"\n    });\n    if (!response.ok) {\n        throw new Error(`Error executing Redis command: ${response.statusText}`);\n    }\n    const data = await response.json();\n    return data.result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvaGVscGVycy9yZWRpcy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsc0JBQXNCQyxRQUFRQyxHQUFHLENBQUNDLHNCQUFzQjtBQUM5RCxNQUFNQyxZQUFZSCxRQUFRQyxHQUFHLENBQUNHLHdCQUF3QjtBQUkvQyxlQUFlQyxXQUNsQkMsT0FBaUIsRUFDakIsR0FBR0MsSUFBMEI7SUFFN0IsTUFBTUMsYUFBYSxDQUFDLEVBQUVULG9CQUFvQixDQUFDLEVBQUVPLFFBQVEsQ0FBQyxFQUFFQyxLQUFLRSxJQUFJLENBQUMsS0FBSyxDQUFDO0lBRXhFLE1BQU1DLFdBQVcsTUFBTUMsTUFBTUgsWUFBWTtRQUNyQ0ksU0FBUztZQUNMQyxlQUFlLENBQUMsT0FBTyxFQUFFVixVQUFVLENBQUM7UUFDeEM7UUFDQVcsT0FBTztJQUNYO0lBRUEsSUFBRyxDQUFDSixTQUFTSyxFQUFFLEVBQUM7UUFDWixNQUFNLElBQUlDLE1BQU0sQ0FBQywrQkFBK0IsRUFBRU4sU0FBU08sVUFBVSxDQUFDLENBQUM7SUFDM0U7SUFFQSxNQUFNQyxPQUFPLE1BQU1SLFNBQVNTLElBQUk7SUFDaEMsT0FBT0QsS0FBS0UsTUFBTTtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3Nhbmdlci8uL3NyYy9oZWxwZXJzL3JlZGlzLnRzPzU2YTkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdXBzdGFzaFJlZGlzUmVzdFVybCA9IHByb2Nlc3MuZW52LlVQU1RBU0hfUkVESVNfUkVTVF9VUkxcclxuY29uc3QgYXV0aFRva2VuID0gcHJvY2Vzcy5lbnYuVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOXHJcblxyXG50eXBlIENvbW1hbmQgPSAnenJhbmdlJyB8ICdzaXNtZW1iZXInIHwgJ2dldCcgfCAnc21lbWJlcnMnXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZWRpcyhcclxuICAgIGNvbW1hbmQgOiBDb21tYW5kLFxyXG4gICAgLi4uYXJncyA6IChzdHJpbmcgfCBudW1iZXIpW11cclxuKSB7XHJcbiAgICBjb25zdCBjb21tYW5kVXJsID0gYCR7dXBzdGFzaFJlZGlzUmVzdFVybH0vJHtjb21tYW5kfS8ke2FyZ3Muam9pbignLycpfWBcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGNvbW1hbmRVcmwsIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthdXRoVG9rZW59YCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnXHJcbiAgICB9KVxyXG5cclxuICAgIGlmKCFyZXNwb25zZS5vayl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBleGVjdXRpbmcgUmVkaXMgY29tbWFuZDogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgcmV0dXJuIGRhdGEucmVzdWx0XHJcbn0iXSwibmFtZXMiOlsidXBzdGFzaFJlZGlzUmVzdFVybCIsInByb2Nlc3MiLCJlbnYiLCJVUFNUQVNIX1JFRElTX1JFU1RfVVJMIiwiYXV0aFRva2VuIiwiVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOIiwiZmV0Y2hSZWRpcyIsImNvbW1hbmQiLCJhcmdzIiwiY29tbWFuZFVybCIsImpvaW4iLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJjYWNoZSIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwiZGF0YSIsImpzb24iLCJyZXN1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/helpers/redis.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _next_auth_upstash_redis_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/upstash-redis-adapter */ \"(rsc)/./node_modules/@next-auth/upstash-redis-adapter/dist/index.js\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/./src/lib/db.ts\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _helpers_redis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/helpers/redis */ \"(rsc)/./src/helpers/redis.ts\");\n\n\n\n\nfunction getGoogleCredentials() {\n    const clientId = process.env.GOOGLE_CLIENT_ID;\n    const clientSecret = process.env.GOOGLE_CLIENT_SECRET;\n    if (!clientId || clientId.length === 0) {\n        throw new Error(\"Missing GOOGLE_CLIENT_ID\");\n    }\n    if (!clientSecret || clientSecret.length === 0) {\n        throw new Error(\"Missing GOOGLE_CLIENT_SECRET\");\n    }\n    return {\n        clientId,\n        clientSecret\n    };\n}\nconst authOptions = {\n    adapter: (0,_next_auth_upstash_redis_adapter__WEBPACK_IMPORTED_MODULE_0__.UpstashRedisAdapter)(_db__WEBPACK_IMPORTED_MODULE_1__.db),\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/login\"\n    },\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            clientId: getGoogleCredentials().clientId,\n            clientSecret: getGoogleCredentials().clientSecret\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user }) {\n            const dbUserResult = await (0,_helpers_redis__WEBPACK_IMPORTED_MODULE_3__.fetchRedis)(\"get\", `user:${token.id}`);\n            if (!dbUserResult) {\n                token.id = user.id;\n                return token;\n            }\n            const dbUser = JSON.parse(dbUserResult);\n            return {\n                id: dbUser.id,\n                name: dbUser.name,\n                email: dbUser.email,\n                picture: dbUser.image\n            };\n        },\n        async session ({ session, token }) {\n            if (token) {\n                session.user.id = token.id;\n                session.user.name = token.name;\n                session.user.email = token.email;\n                session.user.image = token.picture;\n            }\n            return session;\n        },\n        redirect () {\n            return \"/dashboard\";\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDc0U7QUFDN0M7QUFDOEI7QUFDWDtBQUU1QyxTQUFTSTtJQUNMLE1BQU1DLFdBQVdDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCO0lBQzdDLE1BQU1DLGVBQWVILFFBQVFDLEdBQUcsQ0FBQ0csb0JBQW9CO0lBRXJELElBQUcsQ0FBQ0wsWUFBWUEsU0FBU00sTUFBTSxLQUFLLEdBQUU7UUFDbEMsTUFBTSxJQUFJQyxNQUFNO0lBQ3BCO0lBRUEsSUFBRyxDQUFDSCxnQkFBZ0JBLGFBQWFFLE1BQU0sS0FBSyxHQUFFO1FBQzFDLE1BQU0sSUFBSUMsTUFBTTtJQUNwQjtJQUNBLE9BQU87UUFBQ1A7UUFBVUk7SUFBWTtBQUNsQztBQUVPLE1BQU1JLGNBQStCO0lBQ3hDQyxTQUFTZCxxRkFBbUJBLENBQUNDLG1DQUFFQTtJQUMvQmMsU0FBUztRQUNMQyxVQUFVO0lBQ2Q7SUFDQUMsT0FBTztRQUNIQyxRQUFRO0lBQ1o7SUFDQUMsV0FBVztRQUNQakIsc0VBQWNBLENBQUM7WUFDWEcsVUFBVUQsdUJBQXVCQyxRQUFRO1lBQ3pDSSxjQUFjTCx1QkFBdUJLLFlBQVk7UUFDckQ7S0FDSDtJQUNEVyxXQUFXO1FBQ1AsTUFBTUMsS0FBSSxFQUFDQyxLQUFLLEVBQUVDLElBQUksRUFBQztZQUNuQixNQUFNQyxlQUFnQixNQUFNckIsMERBQVVBLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRW1CLE1BQU1HLEVBQUUsQ0FBQyxDQUFDO1lBRWhFLElBQUcsQ0FBQ0QsY0FBYTtnQkFDYkYsTUFBTUcsRUFBRSxHQUFHRixLQUFNRSxFQUFFO2dCQUNuQixPQUFPSDtZQUNYO1lBRUEsTUFBTUksU0FBU0MsS0FBS0MsS0FBSyxDQUFDSjtZQUUxQixPQUFPO2dCQUNIQyxJQUFJQyxPQUFPRCxFQUFFO2dCQUNiSSxNQUFNSCxPQUFPRyxJQUFJO2dCQUNqQkMsT0FBT0osT0FBT0ksS0FBSztnQkFDbkJDLFNBQVNMLE9BQU9NLEtBQUs7WUFDekI7UUFDSjtRQUNBLE1BQU1qQixTQUFRLEVBQUNBLE9BQU8sRUFBRU8sS0FBSyxFQUFDO1lBQzFCLElBQUdBLE9BQU07Z0JBQ0xQLFFBQVFRLElBQUksQ0FBQ0UsRUFBRSxHQUFHSCxNQUFNRyxFQUFFO2dCQUMxQlYsUUFBUVEsSUFBSSxDQUFDTSxJQUFJLEdBQUdQLE1BQU1PLElBQUk7Z0JBQzlCZCxRQUFRUSxJQUFJLENBQUNPLEtBQUssR0FBR1IsTUFBTVEsS0FBSztnQkFDaENmLFFBQVFRLElBQUksQ0FBQ1MsS0FBSyxHQUFHVixNQUFNUyxPQUFPO1lBQ3RDO1lBQ0EsT0FBT2hCO1FBQ1g7UUFDQWtCO1lBQ0ksT0FBTztRQUNYO0lBQ0o7QUFDSixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzc2FuZ2VyLy4vc3JjL2xpYi9hdXRoLnRzPzY2OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSAnbmV4dC1hdXRoJ1xyXG5pbXBvcnQgeyBVcHN0YXNoUmVkaXNBZGFwdGVyIH0gZnJvbSAnQG5leHQtYXV0aC91cHN0YXNoLXJlZGlzLWFkYXB0ZXInXHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi9kYidcclxuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlJ1xyXG5pbXBvcnQgeyBmZXRjaFJlZGlzIH0gZnJvbSAnQC9oZWxwZXJzL3JlZGlzJ1xyXG5cclxuZnVuY3Rpb24gZ2V0R29vZ2xlQ3JlZGVudGlhbHMoKXtcclxuICAgIGNvbnN0IGNsaWVudElkID0gcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRFxyXG4gICAgY29uc3QgY2xpZW50U2VjcmV0ID0gcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVRcclxuXHJcbiAgICBpZighY2xpZW50SWQgfHwgY2xpZW50SWQubGVuZ3RoID09PSAwKXtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgR09PR0xFX0NMSUVOVF9JRCcpXHJcbiAgICB9XHJcblxyXG4gICAgaWYoIWNsaWVudFNlY3JldCB8fCBjbGllbnRTZWNyZXQubGVuZ3RoID09PSAwKXtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgR09PR0xFX0NMSUVOVF9TRUNSRVQnKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtjbGllbnRJZCwgY2xpZW50U2VjcmV0fVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnM6IE5leHRBdXRoT3B0aW9ucyA9IHtcclxuICAgIGFkYXB0ZXI6IFVwc3Rhc2hSZWRpc0FkYXB0ZXIoZGIpLFxyXG4gICAgc2Vzc2lvbjoge1xyXG4gICAgICAgIHN0cmF0ZWd5OiAnand0J1xyXG4gICAgfSxcclxuICAgIHBhZ2VzOiB7XHJcbiAgICAgICAgc2lnbkluOiAnL2xvZ2luJ1xyXG4gICAgfSwgXHJcbiAgICBwcm92aWRlcnM6IFtcclxuICAgICAgICBHb29nbGVQcm92aWRlcih7XHJcbiAgICAgICAgICAgIGNsaWVudElkOiBnZXRHb29nbGVDcmVkZW50aWFscygpLmNsaWVudElkLFxyXG4gICAgICAgICAgICBjbGllbnRTZWNyZXQ6IGdldEdvb2dsZUNyZWRlbnRpYWxzKCkuY2xpZW50U2VjcmV0LFxyXG4gICAgICAgIH0pXHJcbiAgICBdLFxyXG4gICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgICAgYXN5bmMgand0KHt0b2tlbiwgdXNlcn0pe1xyXG4gICAgICAgICAgICBjb25zdCBkYlVzZXJSZXN1bHQgPSAoYXdhaXQgZmV0Y2hSZWRpcygnZ2V0JywgYHVzZXI6JHt0b2tlbi5pZH1gKSkgYXMgfCBzdHJpbmcgfCBudWxsXHJcblxyXG4gICAgICAgICAgICBpZighZGJVc2VyUmVzdWx0KXtcclxuICAgICAgICAgICAgICAgIHRva2VuLmlkID0gdXNlciEuaWRcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBkYlVzZXIgPSBKU09OLnBhcnNlKGRiVXNlclJlc3VsdCkgYXMgVXNlclxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlkOiBkYlVzZXIuaWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYlVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBkYlVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBwaWN0dXJlOiBkYlVzZXIuaW1hZ2UsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGFzeW5jIHNlc3Npb24oe3Nlc3Npb24sIHRva2VufSl7XHJcbiAgICAgICAgICAgIGlmKHRva2VuKXtcclxuICAgICAgICAgICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLmlkXHJcbiAgICAgICAgICAgICAgICBzZXNzaW9uLnVzZXIubmFtZSA9IHRva2VuLm5hbWVcclxuICAgICAgICAgICAgICAgIHNlc3Npb24udXNlci5lbWFpbCA9IHRva2VuLmVtYWlsXHJcbiAgICAgICAgICAgICAgICBzZXNzaW9uLnVzZXIuaW1hZ2UgPSB0b2tlbi5waWN0dXJlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25cclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlZGlyZWN0KCl7XHJcbiAgICAgICAgICAgIHJldHVybiAnL2Rhc2hib2FyZCdcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlVwc3Rhc2hSZWRpc0FkYXB0ZXIiLCJkYiIsIkdvb2dsZVByb3ZpZGVyIiwiZmV0Y2hSZWRpcyIsImdldEdvb2dsZUNyZWRlbnRpYWxzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwibGVuZ3RoIiwiRXJyb3IiLCJhdXRoT3B0aW9ucyIsImFkYXB0ZXIiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJwYWdlcyIsInNpZ25JbiIsInByb3ZpZGVycyIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwidXNlciIsImRiVXNlclJlc3VsdCIsImlkIiwiZGJVc2VyIiwiSlNPTiIsInBhcnNlIiwibmFtZSIsImVtYWlsIiwicGljdHVyZSIsImltYWdlIiwicmVkaXJlY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _upstash_redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @upstash/redis */ \"(rsc)/./node_modules/@upstash/redis/nodejs.js\");\n\nconst db = new _upstash_redis__WEBPACK_IMPORTED_MODULE_0__.Redis({\n    url: process.env.UPSTASH_REDIS_REST_URL,\n    token: process.env.UPSTASH_REDIS_REST_TOKEN\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlEO0FBRTFDLE1BQU1DLEtBQUssSUFBSUQsaURBQUtBLENBQUM7SUFDeEJFLEtBQUtDLFFBQVFDLEdBQUcsQ0FBQ0Msc0JBQXNCO0lBQ3ZDQyxPQUFPSCxRQUFRQyxHQUFHLENBQUNHLHdCQUF3QjtBQUMvQyxHQUEyQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3Nhbmdlci8uL3NyYy9saWIvZGIudHM/OWU0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWRpcywgUmVxdWVzdGVyIH0gZnJvbSAnQHVwc3Rhc2gvcmVkaXMnXHJcblxyXG5leHBvcnQgY29uc3QgZGIgPSBuZXcgUmVkaXMoe1xyXG4gICAgdXJsOiBwcm9jZXNzLmVudi5VUFNUQVNIX1JFRElTX1JFU1RfVVJMLFxyXG4gICAgdG9rZW46IHByb2Nlc3MuZW52LlVQU1RBU0hfUkVESVNfUkVTVF9UT0tFTixcclxufSBhcyB1bmtub3duIGFzIFJlcXVlc3RlciApIl0sIm5hbWVzIjpbIlJlZGlzIiwiZGIiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiVVBTVEFTSF9SRURJU19SRVNUX1VSTCIsInRva2VuIiwiVVBTVEFTSF9SRURJU19SRVNUX1RPS0VOIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pusher.ts":
/*!***************************!*\
  !*** ./src/lib/pusher.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pusherClient: () => (/* binding */ pusherClient),\n/* harmony export */   pusherServer: () => (/* binding */ pusherServer)\n/* harmony export */ });\n/* harmony import */ var pusher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pusher */ \"(rsc)/./node_modules/pusher/lib/pusher.js\");\n/* harmony import */ var pusher__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pusher__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var pusher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pusher-js */ \"(rsc)/./node_modules/pusher-js/dist/node/pusher.js\");\n/* harmony import */ var pusher_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pusher_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst pusherServer = new (pusher__WEBPACK_IMPORTED_MODULE_0___default())({\n    appId: process.env.PUSHER_APP_ID,\n    key: \"70ed8a6b4cf9a183b1c3\",\n    secret: process.env.PUSHER_APP_SECRET,\n    cluster: \"ap2\",\n    useTLS: true\n});\nconst pusherClient = new (pusher_js__WEBPACK_IMPORTED_MODULE_1___default())(\"70ed8a6b4cf9a183b1c3\", {\n    cluster: \"ap2\"\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3B1c2hlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUM7QUFDRztBQUU3QixNQUFNRSxlQUFlLElBQUlGLCtDQUFZQSxDQUFDO0lBQzNDRyxPQUFPQyxRQUFRQyxHQUFHLENBQUNDLGFBQWE7SUFDaENDLEtBQUtILHNCQUFzQztJQUMzQ0ssUUFBUUwsUUFBUUMsR0FBRyxDQUFDSyxpQkFBaUI7SUFDckNDLFNBQVM7SUFDVEMsUUFBUTtBQUNWLEdBQUU7QUFFSyxNQUFNQyxlQUFlLElBQUlaLGtEQUFZQSxDQUMxQ0csc0JBQXNDLEVBQ3RDO0lBQ0VPLFNBQVM7QUFDWCxHQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzc2FuZ2VyLy4vc3JjL2xpYi9wdXNoZXIudHM/NDY5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHVzaGVyU2VydmVyIGZyb20gJ3B1c2hlcidcclxuaW1wb3J0IFB1c2hlckNsaWVudCBmcm9tICdwdXNoZXItanMnXHJcblxyXG5leHBvcnQgY29uc3QgcHVzaGVyU2VydmVyID0gbmV3IFB1c2hlclNlcnZlcih7XHJcbiAgYXBwSWQ6IHByb2Nlc3MuZW52LlBVU0hFUl9BUFBfSUQhLFxyXG4gIGtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUFVTSEVSX0FQUF9LRVkhLFxyXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuUFVTSEVSX0FQUF9TRUNSRVQhLFxyXG4gIGNsdXN0ZXI6IFwiYXAyXCIsXHJcbiAgdXNlVExTOiB0cnVlLFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IHB1c2hlckNsaWVudCA9IG5ldyBQdXNoZXJDbGllbnQoXHJcbiAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUFVTSEVSX0FQUF9LRVkhLFxyXG4gIHtcclxuICAgIGNsdXN0ZXI6IFwiYXAyXCIsXHJcbiAgfVxyXG4pIl0sIm5hbWVzIjpbIlB1c2hlclNlcnZlciIsIlB1c2hlckNsaWVudCIsInB1c2hlclNlcnZlciIsImFwcElkIiwicHJvY2VzcyIsImVudiIsIlBVU0hFUl9BUFBfSUQiLCJrZXkiLCJORVhUX1BVQkxJQ19QVVNIRVJfQVBQX0tFWSIsInNlY3JldCIsIlBVU0hFUl9BUFBfU0VDUkVUIiwiY2x1c3RlciIsInVzZVRMUyIsInB1c2hlckNsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pusher.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chatHrefConstructor: () => (/* binding */ chatHrefConstructor),\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   toPusherKey: () => (/* binding */ toPusherKey)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/lib/tw-merge.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nfunction toPusherKey(key) {\n    return key.replace(/:/g, \"__\");\n}\nfunction chatHrefConstructor(id1, id2) {\n    const sortedIds = [\n        id1,\n        id2\n    ].sort();\n    return `${sortedIds[0]}--${sortedIds[1]}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVDO0FBQ0M7QUFFakMsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN0QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3hCO0FBRU8sU0FBU0MsWUFBWUMsR0FBVztJQUNuQyxPQUFPQSxJQUFJQyxPQUFPLENBQUMsTUFBTTtBQUM3QjtBQUVPLFNBQVNDLG9CQUFxQkMsR0FBVyxFQUFFQyxHQUFXO0lBQ3pELE1BQU1DLFlBQVk7UUFBQ0Y7UUFBS0M7S0FBSSxDQUFDRSxJQUFJO0lBQ2pDLE9BQU8sQ0FBQyxFQUFFRCxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRUEsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzc2FuZ2VyLy4vc3JjL2xpYi91dGlscy50cz83YzFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENsYXNzVmFsdWUsIGNsc3ggfSBmcm9tICdjbHN4J1xyXG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSAndGFpbHdpbmQtbWVyZ2UnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY24oLi4uaW5wdXRzOiBDbGFzc1ZhbHVlW10pe1xyXG4gICAgcmV0dXJuIHR3TWVyZ2UoY2xzeChpbnB1dHMpKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9QdXNoZXJLZXkoa2V5OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBrZXkucmVwbGFjZSgvOi9nLCAnX18nKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hhdEhyZWZDb25zdHJ1Y3RvciAoaWQxOiBzdHJpbmcsIGlkMjogc3RyaW5nKXtcclxuICAgIGNvbnN0IHNvcnRlZElkcyA9IFtpZDEsIGlkMl0uc29ydCgpXHJcbiAgICByZXR1cm4gYCR7c29ydGVkSWRzWzBdfS0tJHtzb3J0ZWRJZHNbMV19YFxyXG59Il0sIm5hbWVzIjpbImNsc3giLCJ0d01lcmdlIiwiY24iLCJpbnB1dHMiLCJ0b1B1c2hlcktleSIsImtleSIsInJlcGxhY2UiLCJjaGF0SHJlZkNvbnN0cnVjdG9yIiwiaWQxIiwiaWQyIiwic29ydGVkSWRzIiwic29ydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validations/message.tsx":
/*!*****************************************!*\
  !*** ./src/lib/validations/message.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   messageArrayValidator: () => (/* binding */ messageArrayValidator),\n/* harmony export */   messageValidator: () => (/* binding */ messageValidator)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/lib/index.mjs\");\n\nconst messageValidator = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    senderId: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    text: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.z.number()\n});\nconst messageArrayValidator = zod__WEBPACK_IMPORTED_MODULE_0__.z.array(messageValidator);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ZhbGlkYXRpb25zL21lc3NhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1QjtBQUVoQixNQUFNQyxtQkFBbUJELGtDQUFDQSxDQUFDRSxNQUFNLENBQUM7SUFDckNDLElBQUlILGtDQUFDQSxDQUFDSSxNQUFNO0lBQ1pDLFVBQVVMLGtDQUFDQSxDQUFDSSxNQUFNO0lBQ2xCRSxNQUFNTixrQ0FBQ0EsQ0FBQ0ksTUFBTTtJQUNkRyxXQUFXUCxrQ0FBQ0EsQ0FBQ1EsTUFBTTtBQUN2QixHQUFFO0FBRUssTUFBTUMsd0JBQXlCVCxrQ0FBQ0EsQ0FBQ1UsS0FBSyxDQUFDVCxrQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXNzYW5nZXIvLi9zcmMvbGliL3ZhbGlkYXRpb25zL21lc3NhZ2UudHN4PzgxMjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcclxuXHJcbmV4cG9ydCBjb25zdCBtZXNzYWdlVmFsaWRhdG9yID0gei5vYmplY3Qoe1xyXG4gICAgaWQ6IHouc3RyaW5nKCksXHJcbiAgICBzZW5kZXJJZDogei5zdHJpbmcoKSxcclxuICAgIHRleHQ6IHouc3RyaW5nKCksXHJcbiAgICB0aW1lc3RhbXA6IHoubnVtYmVyKCksXHJcbn0pXHJcblxyXG5leHBvcnQgY29uc3QgbWVzc2FnZUFycmF5VmFsaWRhdG9yID0gIHouYXJyYXkobWVzc2FnZVZhbGlkYXRvcilcclxuXHJcbmV4cG9ydCB0eXBlIE1lc3NhZ2UgPSB6LmluZmVyPHR5cGVvZiBtZXNzYWdlVmFsaWRhdG9yPiJdLCJuYW1lcyI6WyJ6IiwibWVzc2FnZVZhbGlkYXRvciIsIm9iamVjdCIsImlkIiwic3RyaW5nIiwic2VuZGVySWQiLCJ0ZXh0IiwidGltZXN0YW1wIiwibnVtYmVyIiwibWVzc2FnZUFycmF5VmFsaWRhdG9yIiwiYXJyYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validations/message.tsx\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/tailwind-merge","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/clsx","vendor-chunks/pusher-js","vendor-chunks/tr46","vendor-chunks/jose","vendor-chunks/tweetnacl","vendor-chunks/openid-client","vendor-chunks/node-fetch","vendor-chunks/whatwg-url","vendor-chunks/@upstash","vendor-chunks/pusher","vendor-chunks/event-target-shim","vendor-chunks/oauth","vendor-chunks/crypto-js","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/uuid","vendor-chunks/webidl-conversions","vendor-chunks/yallist","vendor-chunks/lru-cache","vendor-chunks/abort-controller","vendor-chunks/@next-auth","vendor-chunks/cookie","vendor-chunks/tweetnacl-util","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/is-base64","vendor-chunks/zod","vendor-chunks/nanoid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmessage%2Fsend%2Froute&page=%2Fapi%2Fmessage%2Fsend%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmessage%2Fsend%2Froute.ts&appDir=E%3A%5Cmessenger%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5Cmessenger&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();